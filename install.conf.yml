- defaults:
    shell:
      stdout: true
      stderr: true
    link:
      relink: true

- clean:
    ~/:
    ~/.config:
      recursive: true

##### nvim
- link:
    ~/.config/nvim:
- shell:
  - |-
    if [ -z nvim/autoload/plug.vim ]; then
      curl -fLo nvim/autoload/plug.vim --create-dirs https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim;
    else
      echo plug.vim already exists;
    fi

##### zsh
- link:
    ~/.zshrc: zsh/zshrc
- shell:
  - |-
    set -euo pipefail
    ZINIT_HOME="${XDG_DATA_HOME:-${HOME}/.local/share}/zinit/zinit.git"
    if [ ! -d $ZINIT_HOME ]; then mkdir -p "$(dirname $ZINIT_HOME)"; fi
    if [ ! -d $ZINIT_HOME/.git ]; then git clone https://github.com/zdharma-continuum/zinit.git "$ZINIT_HOME"; fi

##### doom emacs
- link:
    ~/.doom.d: doom
- shell:
  - |-
    if [ ! -d ~/.config/emacs ]; then git clone --depth 1 https://github.com/doomemacs/doomemacs ~/.config/emacs; fi

##### tmux
- link:
    ~/.tmux.conf: tmux/tmux.conf
    ~/.tmux: tmux/tmux
- shell:
  - |-
    if [ ! -d tmux/tmux/plugins/tpm ]; then git clone https://github.com/tmux-plugins/tpm tmux/tmux/plugins/tpm; fi

##### the rest
- link:
    ~/.config/ranger:
    ~/.config/git:
    ~/.config/i3:
    ~/.makepkg.conf:
    ~/.config/ripgreprc:
    ~/.local/bin:

